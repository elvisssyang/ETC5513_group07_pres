---
title: "Report for Happiness around the world"
subtitle: "A story of 2015-2022 Happiness reports"
author: "Zhixiang Yang (Elvis)"
email: "zyan0056@student.monash.edu"
date: "10th April 2022"
pdflink: ""
bgimg: "images/nye1.jpg"
output:
  xaringan::moon_reader:
    css:
      - ninjutsu 
      - "assets/animate.css"
      - "assets/monash-logo.css"
      - "assets/monash-brand.css"
      - "assets/monash-fonts.css"
      - "assets/styles.css" # small improvements
      - "assets/custom.css" # add your own CSS here!
    self_contained: false 
    seal: false 
    chakra: 'libs/remark-latest.min.js'
    lib_dir: libs
    includes:
      in_header: "assets/custom.html"
    mathjax: "assets/mathjax-local/MathJax.js?config=TeX-AMS-MML_HTMLorMML"
    nature:
      highlightStyle: github 
      highlightLanguage: r 
      highlightLines: true
      highlightSpans: false 
      countIncrementalSlides: false
      slideNumberFormat: '%current%/%total%'
      navigation:
        scroll: false 
        touch: true
        click: false
      ratio: '16:9'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE,warning=FALSE, message=FALSE)
library(tidyverse)
library(ggplot2)
library(dplyr)
library(kableExtra)
library(sf)
library(here)
library(lubridate)
library(cowplot)
library(janitor)
library(maps)
library(plotly)
require(wbstats)
library(RColorBrewer)
library(repr)
library(gridExtra)
library(anicon)
library(rworldmap) 
library(EBImage)
```

```{r titleslide, child="components/titleslide.Rmd"}
```
<!-- DO NOT DELETE -- title slide -->
---
<!-- class only if you want to change pls change here -->
# Big title (Blue bar )

# smaller (bar plot shape)


## even Smaller (pie char)

+ .font_my[dot
+ .font_my_2[dot under dot ]
]

<!-- Remember to delete the above part --EY  -->
---
# Research Question 

-  The top 10 countries in happiness score since COVID-19. 

-  The distribution of the top 10 countries on the world map in 2021. 

-  Relation between happiness score in these 10 countries and other 6 attributes in 2021. 
---
# The top 10 countries in happiness score since COVID-19

```{r, fig.align='center', fig.width= 12}
happiness_2020 <- read_csv(here("data", "2020.csv"))
happiness_2021 <- read_csv(here("data", "2021.csv"))

top10_2020 <- happiness_2020 %>%
  mutate(RANK = as.numeric(rownames(happiness_2020))) %>%
  select("RANK","Country name","Ladder score") %>%
  rename("Country" = "Country name",
         "Happiness score" = "Ladder score") %>%
  arrange(desc("Happiness score")) %>%
  head(n = 10)
top10_2021 <- happiness_2021 %>% 
  mutate(RANK = as.numeric(rownames(happiness_2021))) %>%
  select("RANK","Country name","Ladder score") %>% 
  rename("Country" = "Country name",
          "Happiness score" = "Ladder score") %>%
  arrange(desc("Happiness score"))  %>%
  head(n = 10)

g1 <- ggplot(top10_2020,
             aes(x=factor(Country,levels=Country),
                 y=RANK))+
  geom_bar(stat="identity",
           width=0.5,
           fill="navyblue") +
  theme(axis.text.x = element_text(angle=90, vjust=0.6)) + 
  labs(title="Top10 Happiest Countries-2020",
       x="Country",y="Rank")
g2 <- ggplot(top10_2021,
             aes(x=factor(Country,levels=Country),
                 y=RANK))+
  geom_bar(stat="identity",
           width=0.5,
           fill="darkgreen") +
  theme(axis.text.x = element_text(angle=90, vjust=0.6)) + 
  labs(title="Top10 Happiest Countries-2021",
       x="Country",y="Rank")

grid.arrange(g1, g2, ncol = 2,nrow= 1)
```
---
# The distribution of the 10 countries on the world map

<!-- Use this code to add the figure -->

<img src="figure/worldmap.jpeg" style="width:80%">

---
# Relation between Happiness score and other indicators in 2021

<!-- Use this code to add the figure -->

<img src="figure/Relation.jpeg" style="width:80%">

---
# Different fonts 

.font_my[ contents ]

.font_my_2[]

.grid[multiple plots ]

.font_small[]




<!-- DO NOT DELETE -- end slide -->
---
```{r endslide, child="components/endslide.Rmd"}
```


